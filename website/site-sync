cat <<HEAD > mirror.html
<html>
<head>
<title>website mirror instructions</title>
</head>
<h1>RRDtool Mirror Source</h1>
<p>Run the following commands once a day.</p>
<pre>
#!/bin/sh
cd /YOUR/MIRROR/TREE
wget --no-host-directories --timestamping --recursive --level=1 http://oss.oetiker.ch/rrdtool/mirror.html
</pre>

<p>Create a file called <b>hoster.html</b> like that:</p>
<pre>
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"&gt;
&lt;head&gt;
&lt;style type="text/css"&gt;
body {
    margin: 0px;
    padding: 0px;
    background-color: #f0f0f0;
    font-family: sans-serif;
    font-size: 8px;
}

#hoster a {
    color: black;
    text-decoration: none;
}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="hoster"&gt;
mirror by &lt;a target="_top" href="http://YOUR.SITE"&gt;Company&lt;/a&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

HEAD

for xt in html png gif ico css htaccess js; do
  gfind . -name "*.$xt" -not -name stat"*" -not -name "hoster*" -exec printf '<a href="{}">.</a>' \; >> mirror.html
done
echo "</body></html>"                                     >> mirror.html

rsync --copy-unsafe-links --verbose --times --delete --exclude pub --exclude='*~' --exclude=".svn" --exclude=".condor" -r . oposs@oss.oetiker.ch:public_html/rrdtool/
#rsync --copy-unsafe-links --verbose --times --delete --exclude pub --exclude='*~' --exclude=".svn" --exclude=".condor" -r . /home/oetiker/public_html/webtools/rrdtool
#rsync --links --verbose --times --delete --exclude pub --exclude='*~' --rsh=ssh -r . tobi@ipn.caida.org:/ipn/web/Tools/RRDtool
